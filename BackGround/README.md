# 倒计时应用

一个功能完整的iOS倒计时应用，支持后台运行和通知提醒。

## 功能特性

### 🕐 时间设置
- 支持设置小时、分钟、秒
- 直观的滚轮选择器界面
- 实时预览设置的时间

### ⏱️ 倒计时功能
- 精确的倒计时显示
- 实时进度圆环动画
- 支持暂停/恢复功能
- 一键重置功能

### 🔔 通知提醒
- 倒计时完成时发送通知
- 支持声音和震动提醒
- 后台运行时也能正常提醒

### 🔄 后台运行
- 应用在后台时继续倒计时
- 使用 DispatchSourceTimer 确保后台可靠性
- 状态持久化，应用重启后恢复倒计时
- 系统优化，节省电量

## 界面设计

### 主界面
- 美观的渐变背景
- 现代化的UI设计
- 流畅的动画效果
- 直观的操作按钮

### 时间设置界面
- 三个独立的滚轮选择器
- 分别设置小时、分钟、秒
- 半透明背景设计
- 清晰的标签说明

### 倒计时界面
- 大型圆形进度条
- 大字体时间显示
- 状态提示文字
- 控制按钮布局

## 技术实现

### 核心组件
- `TimerManager`: 倒计时管理器
- `ContentView`: 主界面视图
- `TimePickerView`: 时间选择器
- `TimerView`: 倒计时显示

### 后台支持
- `UIBackgroundTask`: 后台任务处理
- `DispatchSourceTimer`: 可靠的后台定时器
- `UserDefaults`: 状态持久化
- `UserNotifications`: 通知管理

### 数据管理
- `@StateObject`: 状态管理
- `@Published`: 数据绑定
- `Timer`: 定时器实现

## 使用方法

1. **设置时间**
   - 使用滚轮选择器设置小时、分钟、秒
   - 至少设置一个非零值

2. **开始倒计时**
   - 点击"开始倒计时"按钮
   - 界面切换到倒计时显示

3. **控制倒计时**
   - 暂停：点击暂停按钮
   - 恢复：点击播放按钮
   - 重置：点击重置按钮

4. **后台运行**
   - 应用会自动在后台继续倒计时
   - 倒计时完成时会发送通知

## 权限要求

- **通知权限**: 用于发送倒计时完成提醒
- **后台运行权限**: 用于在后台继续倒计时

## 系统要求

- iOS 14.0 或更高版本
- Xcode 12.0 或更高版本
- Swift 5.0 或更高版本

## 安装和运行

1. 克隆项目到本地
2. 在Xcode中打开项目
3. 选择目标设备或模拟器
4. 点击运行按钮

## 注意事项

- 首次运行时会请求通知权限
- 后台运行时间受系统限制
- 建议在真机上测试后台功能 